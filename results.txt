====================================================================================================
ğŸ¯ OPTIMIZED KNN + RF ENSEMBLE
====================================================================================================

ğŸ’¡ Strategy:
   1. KNN with 5 distance metrics: Euclidean, Manhattan, Chebyshev, Minkowski, Cosine
   2. Random Forest with optimized hyperparameters
   3. Extra Trees (more randomized RF variant)
   4. Intelligent ensemble weighting per disorder
   5. Focus on HIGH RECALL for medical screening

ğŸ¯ Target: 50-65% F1, 90-95% Recall

âœ“ Loaded: 945 samples Ã— 1140 features

====================================================================================================
ğŸš€ TRAINING ALL MAIN DISORDERS
====================================================================================================

[1/6] 
====================================================================================================
ğŸ¯ Mood disorder
====================================================================================================
ğŸ“Š 266 positive, 679 negative (ratio 1:2.6)
ğŸ”„ Applying SMOTE... âœ“ 543 positive, 543 negative

ğŸ¯ Testing KNN with different distance metrics...
   Testing euclidean      ... âœ“ k= 5 | F1= 43.5% | Recall= 98.1%
   Testing manhattan      ... âœ“ k= 5 | F1= 43.8% | Recall=100.0%
   Testing chebyshev      ... âœ“ k=11 | F1= 33.0% | Recall= 32.1%
   Testing minkowski_p3   ... âœ“ k= 5 | F1= 43.5% | Recall= 98.1%
   Testing cosine         ... âœ“ k= 5 | F1= 40.7% | Recall= 45.3%

   ğŸ† Best KNN metric: manhattan (F1=43.8%)

ğŸŒ² Training Random Forest... âœ“ F1= 26.1% | Recall= 22.6%
ğŸŒ³ Training Extra Trees... âœ“ F1= 31.8% | Recall= 26.4%

ğŸ”— Creating intelligent ensemble... âœ“ Best: F1-Weighted @ threshold=0.42

ğŸ“Š FINAL RESULTS:
   ğŸ† ENSEMBLE    â†’ F1:  45.6% | Recall:  98.1% | Precision:  29.7% | Bal_Acc:  53.8%
   ğŸ¯ Best KNN    â†’ F1:  43.8% (manhattan)
   ğŸŒ² Best Tree   â†’ F1:  31.8% (ET)
   âœ… Ensemble improvement: +1.8%

ğŸ“‹ Confusion Matrix:
   [[TN= 13, FP=123]
    [FN=  1, TP= 52]]
   âœ… HIGH RECALL! Catching 98% of patients!

[2/6] 
====================================================================================================
ğŸ¯ Addictive disorder
====================================================================================================
ğŸ“Š 186 positive, 759 negative (ratio 1:4.1)
ğŸ”„ Applying SMOTE... âœ“ 607 positive, 607 negative

ğŸ¯ Testing KNN with different distance metrics...
   Testing euclidean      ... âœ“ k=15 | F1=  8.9% | Recall=  5.4%
   Testing manhattan      ... âœ“ k=13 | F1= 14.3% | Recall=  8.1%
   Testing chebyshev      ... âœ— Failed
   Testing minkowski_p3   ... âœ— Failed
   Testing cosine         ... âœ“ k=13 | F1= 23.7% | Recall= 18.9%

   ğŸ† Best KNN metric: cosine (F1=23.7%)

ğŸŒ² Training Random Forest... âœ“ F1= 19.4% | Recall= 16.2%
ğŸŒ³ Training Extra Trees... âœ“ F1= 19.2% | Recall= 13.5%

ğŸ”— Creating intelligent ensemble... âœ“ Best: Average @ threshold=0.30

ğŸ“Š FINAL RESULTS:
   ğŸ† ENSEMBLE    â†’ F1:  39.2% | Recall:  83.8% | Precision:  25.6% | Bal_Acc:  62.3%
   ğŸ¯ Best KNN    â†’ F1:  23.7% (cosine)
   ğŸŒ² Best Tree   â†’ F1:  19.4% (RF)
   âœ… Ensemble improvement: +15.5%

ğŸ“‹ Confusion Matrix:
   [[TN= 62, FP= 90]
    [FN=  6, TP= 31]]

[3/6] 
====================================================================================================
ğŸ¯ Trauma and stress related disorder
====================================================================================================
ğŸ“Š 128 positive, 817 negative (ratio 1:6.4)
ğŸ”„ Applying SMOTE... âœ“ 654 positive, 654 negative

ğŸ¯ Testing KNN with different distance metrics...
   Testing euclidean      ... âœ“ k=11 | F1= 30.2% | Recall= 50.0%
   Testing manhattan      ... âœ“ k= 5 | F1= 25.6% | Recall= 80.8%
   Testing chebyshev      ... âœ“ k= 5 | F1= 12.3% | Recall= 15.4%
   Testing minkowski_p3   ... âœ“ k= 5 | F1= 26.3% | Recall= 19.2%
   Testing cosine         ... âœ“ k= 5 | F1= 15.9% | Recall= 19.2%

   ğŸ† Best KNN metric: euclidean (F1=30.2%)

ğŸŒ² Training Random Forest... âœ“ F1= 17.1% | Recall= 11.5%
ğŸŒ³ Training Extra Trees... âœ“ F1=  0.0% | Recall=  0.0%

ğŸ”— Creating intelligent ensemble... âœ“ Best: Top3 @ threshold=0.55

ğŸ“Š FINAL RESULTS:
   ğŸ† ENSEMBLE    â†’ F1:  36.4% | Recall:  30.8% | Precision:  44.4% | Bal_Acc:  62.3%
   ğŸ¯ Best KNN    â†’ F1:  30.2% (euclidean)
   ğŸŒ² Best Tree   â†’ F1:  17.1% (RF)
   âœ… Ensemble improvement: +6.1%

ğŸ“‹ Confusion Matrix:
   [[TN=153, FP= 10]
    [FN= 18, TP=  8]]

[4/6] 
====================================================================================================
ğŸ¯ Schizophrenia
====================================================================================================
ğŸ“Š 117 positive, 828 negative (ratio 1:7.1)
ğŸ”„ Applying SMOTE... âœ“ 662 positive, 662 negative

ğŸ¯ Testing KNN with different distance metrics...
   Testing euclidean      ... âœ— Failed
   Testing manhattan      ... âœ— Failed
   Testing chebyshev      ... âœ— Failed
   Testing minkowski_p3   ... âœ— Failed
   Testing cosine         ... âœ“ k=11 | F1= 18.2% | Recall= 26.1%

   ğŸ† Best KNN metric: cosine (F1=18.2%)

ğŸŒ² Training Random Forest... âœ“ F1=  0.0% | Recall=  0.0%
ğŸŒ³ Training Extra Trees... âœ“ F1=  0.0% | Recall=  0.0%

ğŸ”— Creating intelligent ensemble... âœ“ Best: F1-Weighted @ threshold=0.19

ğŸ“Š FINAL RESULTS:
   ğŸ† ENSEMBLE    â†’ F1:  24.0% | Recall:  65.2% | Precision:  14.7% | Bal_Acc:  56.4%
   ğŸ¯ Best KNN    â†’ F1:  18.2% (cosine)
   ğŸŒ² Best Tree   â†’ F1:   0.0% (ET)
   âœ… Ensemble improvement: +5.8%

ğŸ“‹ Confusion Matrix:
   [[TN= 79, FP= 87]
    [FN=  8, TP= 15]]

[5/6] 
====================================================================================================
ğŸ¯ Anxiety disorder
====================================================================================================
ğŸ“Š 107 positive, 838 negative (ratio 1:7.8)
ğŸ”„ Applying SMOTE... âœ“ 670 positive, 670 negative

ğŸ¯ Testing KNN with different distance metrics...
   Testing euclidean      ... âœ— Failed
   Testing manhattan      ... âœ— Failed
   Testing chebyshev      ... âœ— Failed
   Testing minkowski_p3   ... âœ— Failed
   Testing cosine         ... âœ— Failed
âš ï¸  All KNN metrics failed

[6/6] 
====================================================================================================
ğŸ¯ Obsessive compulsive disorder
====================================================================================================
ğŸ“Š 46 positive, 899 negative (ratio 1:19.5)
ğŸ”„ Applying SMOTE... âœ“ 719 positive, 719 negative

ğŸ¯ Testing KNN with different distance metrics...
   Testing euclidean      ... âœ“ k= 7 | F1= 13.5% | Recall=100.0%
   Testing manhattan      ... âœ“ k= 5 | F1= 20.0% | Recall= 33.3%
   Testing chebyshev      ... âœ— Failed
   Testing minkowski_p3   ... âœ“ k= 7 | F1= 14.5% | Recall= 88.9%
   Testing cosine         ... âœ“ k= 5 | F1= 11.1% | Recall= 22.2%

   ğŸ† Best KNN metric: manhattan (F1=20.0%)

ğŸŒ² Training Random Forest... âœ“ F1=  0.0% | Recall=  0.0%
ğŸŒ³ Training Extra Trees... âœ“ F1=  0.0% | Recall=  0.0%

ğŸ”— Creating intelligent ensemble... âœ“ Best: BestKNN+BestTree @ threshold=0.42

ğŸ“Š FINAL RESULTS:
   ğŸ† ENSEMBLE    â†’ F1:  28.6% | Recall:  33.3% | Precision:  25.0% | Bal_Acc:  64.2%
   ğŸ¯ Best KNN    â†’ F1:  20.0% (manhattan)
   ğŸŒ² Best Tree   â†’ F1:   0.0% (ET)
   âœ… Ensemble improvement: +8.6%

ğŸ“‹ Confusion Matrix:
   [[TN=171, FP=  9]
    [FN=  6, TP=  3]]

====================================================================================================
ğŸš€ TRAINING SPECIFIC DISORDERS
====================================================================================================

[1/11] 
====================================================================================================
ğŸ¯ Depressive disorder
====================================================================================================
ğŸ“Š 199 positive, 746 negative (ratio 1:3.7)
ğŸ”„ Applying SMOTE... âœ“ 597 positive, 597 negative

ğŸ¯ Testing KNN with different distance metrics...
   Testing euclidean      ... âœ— Failed
   Testing manhattan      ... âœ— Failed
   Testing chebyshev      ... âœ— Failed
   Testing minkowski_p3   ... âœ— Failed
   Testing cosine         ... âœ“ k=15 | F1= 32.4% | Recall= 42.5%

   ğŸ† Best KNN metric: cosine (F1=32.4%)

ğŸŒ² Training Random Forest... âœ“ F1= 16.9% | Recall= 15.0%
ğŸŒ³ Training Extra Trees... âœ“ F1= 17.9% | Recall= 15.0%

ğŸ”— Creating intelligent ensemble... âœ“ Best: Average @ threshold=0.34

ğŸ“Š FINAL RESULTS:
   ğŸ† ENSEMBLE    â†’ F1:  41.0% | Recall:  80.0% | Precision:  27.6% | Bal_Acc:  61.8%
   ğŸ¯ Best KNN    â†’ F1:  32.4% (cosine)
   ğŸŒ² Best Tree   â†’ F1:  17.9% (ET)
   âœ… Ensemble improvement: +8.6%

ğŸ“‹ Confusion Matrix:
   [[TN= 65, FP= 84]
    [FN=  8, TP= 32]]

[2/11] 
====================================================================================================
ğŸ¯ Schizophrenia
====================================================================================================
ğŸ“Š 117 positive, 828 negative (ratio 1:7.1)
ğŸ”„ Applying SMOTE... âœ“ 662 positive, 662 negative

ğŸ¯ Testing KNN with different distance metrics...
   Testing euclidean      ... âœ— Failed
   Testing manhattan      ... âœ— Failed
   Testing chebyshev      ... âœ— Failed
   Testing minkowski_p3   ... âœ— Failed
   Testing cosine         ... âœ“ k=11 | F1= 18.2% | Recall= 26.1%

   ğŸ† Best KNN metric: cosine (F1=18.2%)

ğŸŒ² Training Random Forest... âœ“ F1=  0.0% | Recall=  0.0%
ğŸŒ³ Training Extra Trees... âœ“ F1=  0.0% | Recall=  0.0%

ğŸ”— Creating intelligent ensemble... âœ“ Best: F1-Weighted @ threshold=0.19

ğŸ“Š FINAL RESULTS:
   ğŸ† ENSEMBLE    â†’ F1:  24.0% | Recall:  65.2% | Precision:  14.7% | Bal_Acc:  56.4%
   ğŸ¯ Best KNN    â†’ F1:  18.2% (cosine)
   ğŸŒ² Best Tree   â†’ F1:   0.0% (ET)
   âœ… Ensemble improvement: +5.8%

ğŸ“‹ Confusion Matrix:
   [[TN= 79, FP= 87]
    [FN=  8, TP= 15]]

[3/11] 
====================================================================================================
ğŸ¯ Alcohol use disorder
====================================================================================================
ğŸ“Š 93 positive, 852 negative (ratio 1:9.2)
ğŸ”„ Applying SMOTE... âœ“ 682 positive, 682 negative

ğŸ¯ Testing KNN with different distance metrics...
   Testing euclidean      ... âœ“ k= 9 | F1= 20.9% | Recall=100.0%
   Testing manhattan      ... âœ“ k= 5 | F1= 19.7% | Recall= 78.9%
   Testing chebyshev      ... âœ— Failed
   Testing minkowski_p3   ... âœ“ k= 5 | F1= 22.0% | Recall= 68.4%
   Testing cosine         ... âœ“ k=11 | F1= 20.4% | Recall= 26.3%

   ğŸ† Best KNN metric: minkowski_p3 (F1=22.0%)

ğŸŒ² Training Random Forest... âœ“ F1=  7.7% | Recall=  5.3%
ğŸŒ³ Training Extra Trees... âœ“ F1=  0.0% | Recall=  0.0%

ğŸ”— Creating intelligent ensemble... âœ“ Best: BestKNN+BestTree @ threshold=0.53

ğŸ“Š FINAL RESULTS:
   ğŸ† ENSEMBLE    â†’ F1:  28.6% | Recall:  31.6% | Precision:  26.1% | Bal_Acc:  60.8%
   ğŸ¯ Best KNN    â†’ F1:  22.0% (minkowski_p3)
   ğŸŒ² Best Tree   â†’ F1:   7.7% (RF)
   âœ… Ensemble improvement: +6.5%

ğŸ“‹ Confusion Matrix:
   [[TN=153, FP= 17]
    [FN= 13, TP=  6]]

[4/11] 
====================================================================================================
ğŸ¯ Behavioral addiction disorder
====================================================================================================
ğŸ“Š 93 positive, 852 negative (ratio 1:9.2)
ğŸ”„ Applying SMOTE... âœ“ 682 positive, 682 negative

ğŸ¯ Testing KNN with different distance metrics...
   Testing euclidean      ... âœ— Failed
   Testing manhattan      ... âœ— Failed
   Testing chebyshev      ... âœ— Failed
   Testing minkowski_p3   ... âœ— Failed
   Testing cosine         ... âœ“ k=15 | F1= 13.0% | Recall= 15.8%

   ğŸ† Best KNN metric: cosine (F1=13.0%)

ğŸŒ² Training Random Forest... âœ“ F1= 15.4% | Recall= 10.5%
ğŸŒ³ Training Extra Trees... âœ“ F1= 25.0% | Recall= 15.8%

ğŸ”— Creating intelligent ensemble... âœ“ Best: F1-Weighted @ threshold=0.38

ğŸ“Š FINAL RESULTS:
   ğŸ† ENSEMBLE    â†’ F1:  30.8% | Recall:  42.1% | Precision:  24.2% | Bal_Acc:  63.7%
   ğŸ¯ Best KNN    â†’ F1:  13.0% (cosine)
   ğŸŒ² Best Tree   â†’ F1:  25.0% (ET)
   âœ… Ensemble improvement: +5.8%

ğŸ“‹ Confusion Matrix:
   [[TN=145, FP= 25]
    [FN= 11, TP=  8]]

[5/11] 
====================================================================================================
ğŸ¯ Bipolar disorder
====================================================================================================
ğŸ“Š 67 positive, 878 negative (ratio 1:13.1)
ğŸ”„ Applying SMOTE... âœ“ 702 positive, 702 negative

ğŸ¯ Testing KNN with different distance metrics...
   Testing euclidean      ... âœ“ k= 5 | F1= 13.0% | Recall=100.0%
   Testing manhattan      ... âœ“ k= 5 | F1= 12.9% | Recall=100.0%
   Testing chebyshev      ... âœ— Failed
   Testing minkowski_p3   ... âœ“ k= 5 | F1= 13.1% | Recall=100.0%
   Testing cosine         ... âœ“ k= 5 | F1= 14.5% | Recall= 30.8%

   ğŸ† Best KNN metric: cosine (F1=14.5%)

ğŸŒ² Training Random Forest... âœ“ F1=  8.7% | Recall=  7.7%
ğŸŒ³ Training Extra Trees... âœ“ F1=  8.7% | Recall=  7.7%

ğŸ”— Creating intelligent ensemble... âœ“ Best: BestKNN+BestTree @ threshold=0.61

ğŸ“Š FINAL RESULTS:
   ğŸ† ENSEMBLE    â†’ F1:  21.6% | Recall:  30.8% | Precision:  16.7% | Bal_Acc:  59.7%
   ğŸ¯ Best KNN    â†’ F1:  14.5% (cosine)
   ğŸŒ² Best Tree   â†’ F1:   8.7% (ET)
   âœ… Ensemble improvement: +7.1%

ğŸ“‹ Confusion Matrix:
   [[TN=156, FP= 20]
    [FN=  9, TP=  4]]

[6/11] 
====================================================================================================
ğŸ¯ Panic disorder
====================================================================================================
ğŸ“Š 59 positive, 886 negative (ratio 1:15.0)
ğŸ”„ Applying SMOTE... âœ“ 709 positive, 709 negative

ğŸ¯ Testing KNN with different distance metrics...
   Testing euclidean      ... âœ— Failed
   Testing manhattan      ... âœ— Failed
   Testing chebyshev      ... âœ— Failed
   Testing minkowski_p3   ... âœ— Failed
   Testing cosine         ... âœ— Failed
âš ï¸  All KNN metrics failed

[7/11] 
====================================================================================================
ğŸ¯ Posttraumatic stress disorder
====================================================================================================
ğŸ“Š 52 positive, 893 negative (ratio 1:17.2)
ğŸ”„ Applying SMOTE... âœ“ 714 positive, 714 negative

ğŸ¯ Testing KNN with different distance metrics...
   Testing euclidean      ... âœ— Failed
   Testing manhattan      ... âœ— Failed
   Testing chebyshev      ... âœ— Failed
   Testing minkowski_p3   ... âœ— Failed
   Testing cosine         ... âœ“ k= 5 | F1= 10.8% | Recall= 20.0%

   ğŸ† Best KNN metric: cosine (F1=10.8%)

ğŸŒ² Training Random Forest... âœ“ F1=  0.0% | Recall=  0.0%
ğŸŒ³ Training Extra Trees... âœ“ F1=  0.0% | Recall=  0.0%

ğŸ”— Creating intelligent ensemble... âœ“ Best: F1-Weighted @ threshold=0.41

ğŸ“Š FINAL RESULTS:
   ğŸ† ENSEMBLE    â†’ F1:  10.8% | Recall:  20.0% | Precision:   7.4% | Bal_Acc:  53.0%
   ğŸ¯ Best KNN    â†’ F1:  10.8% (cosine)
   ğŸŒ² Best Tree   â†’ F1:   0.0% (ET)

ğŸ“‹ Confusion Matrix:
   [[TN=154, FP= 25]
    [FN=  8, TP=  2]]

[8/11] 
====================================================================================================
ğŸ¯ Social anxiety disorder
====================================================================================================
ğŸ“Š 48 positive, 897 negative (ratio 1:18.7)
ğŸ”„ Applying SMOTE... âœ“ 718 positive, 718 negative

ğŸ¯ Testing KNN with different distance metrics...
   Testing euclidean      ... âœ— Failed
   Testing manhattan      ... âœ— Failed
   Testing chebyshev      ... âœ— Failed
   Testing minkowski_p3   ... âœ— Failed
   Testing cosine         ... âœ“ k=15 | F1=  6.2% | Recall= 10.0%

   ğŸ† Best KNN metric: cosine (F1=6.2%)

ğŸŒ² Training Random Forest... âœ“ F1=  0.0% | Recall=  0.0%
ğŸŒ³ Training Extra Trees... âœ“ F1=  0.0% | Recall=  0.0%

ğŸ”— Creating intelligent ensemble... âœ“ Best: Average @ threshold=0.30

ğŸ“Š FINAL RESULTS:
   ğŸ† ENSEMBLE    â†’ F1:   9.5% | Recall:  20.0% | Precision:   6.2% | Bal_Acc:  51.6%
   ğŸ¯ Best KNN    â†’ F1:   6.2% (cosine)
   ğŸŒ² Best Tree   â†’ F1:   0.0% (ET)
   âœ… Ensemble improvement: +3.3%

ğŸ“‹ Confusion Matrix:
   [[TN=149, FP= 30]
    [FN=  8, TP=  2]]

[9/11] 
====================================================================================================
ğŸ¯ Obsessive compulsitve disorder
====================================================================================================
ğŸ“Š 46 positive, 899 negative (ratio 1:19.5)
ğŸ”„ Applying SMOTE... âœ“ 719 positive, 719 negative

ğŸ¯ Testing KNN with different distance metrics...
   Testing euclidean      ... âœ“ k= 7 | F1= 13.5% | Recall=100.0%
   Testing manhattan      ... âœ“ k= 5 | F1= 20.0% | Recall= 33.3%
   Testing chebyshev      ... âœ— Failed
   Testing minkowski_p3   ... âœ“ k= 7 | F1= 14.5% | Recall= 88.9%
   Testing cosine         ... âœ“ k= 5 | F1= 11.1% | Recall= 22.2%

   ğŸ† Best KNN metric: manhattan (F1=20.0%)

ğŸŒ² Training Random Forest... âœ“ F1=  0.0% | Recall=  0.0%
ğŸŒ³ Training Extra Trees... âœ“ F1=  0.0% | Recall=  0.0%

ğŸ”— Creating intelligent ensemble... âœ“ Best: BestKNN+BestTree @ threshold=0.42

ğŸ“Š FINAL RESULTS:
   ğŸ† ENSEMBLE    â†’ F1:  28.6% | Recall:  33.3% | Precision:  25.0% | Bal_Acc:  64.2%
   ğŸ¯ Best KNN    â†’ F1:  20.0% (manhattan)
   ğŸŒ² Best Tree   â†’ F1:   0.0% (ET)
   âœ… Ensemble improvement: +8.6%

ğŸ“‹ Confusion Matrix:
   [[TN=171, FP=  9]
    [FN=  6, TP=  3]]

[10/11] 
====================================================================================================
ğŸ¯ Acute stress disorder
====================================================================================================
ğŸ“Š 38 positive, 907 negative (ratio 1:23.9)
ğŸ”„ Applying SMOTE... âœ“ 726 positive, 726 negative

ğŸ¯ Testing KNN with different distance metrics...
   Testing euclidean      ... âœ— Failed
   Testing manhattan      ... âœ— Failed
   Testing chebyshev      ... âœ— Failed
   Testing minkowski_p3   ... âœ— Failed
   Testing cosine         ... âœ“ k= 5 | F1=  3.7% | Recall= 12.5%

   ğŸ† Best KNN metric: cosine (F1=3.7%)

ğŸŒ² Training Random Forest... âœ“ F1=  0.0% | Recall=  0.0%
ğŸŒ³ Training Extra Trees... âœ“ F1=  0.0% | Recall=  0.0%

ğŸ”— Creating intelligent ensemble... âœ“ Best: Average @ threshold=0.18

ğŸ“Š FINAL RESULTS:
   ğŸ† ENSEMBLE    â†’ F1:   8.2% | Recall:  37.5% | Precision:   4.6% | Bal_Acc:  51.6%
   ğŸ¯ Best KNN    â†’ F1:   3.7% (cosine)
   ğŸŒ² Best Tree   â†’ F1:   0.0% (ET)
   âœ… Ensemble improvement: +4.5%

ğŸ“‹ Confusion Matrix:
   [[TN=119, FP= 62]
    [FN=  5, TP=  3]]

[11/11] 
====================================================================================================
ğŸ¯ Adjustment disorder
====================================================================================================
ğŸ“Š 38 positive, 907 negative (ratio 1:23.9)
ğŸ”„ Applying SMOTE... âœ“ 726 positive, 726 negative

ğŸ¯ Testing KNN with different distance metrics...
   Testing euclidean      ... âœ“ k= 5 | F1= 15.4% | Recall= 12.5%
   Testing manhattan      ... âœ“ k=15 | F1=  9.5% | Recall= 12.5%
   Testing chebyshev      ... âœ— Failed
   Testing minkowski_p3   ... âœ— Failed
   Testing cosine         ... âœ— Failed

   ğŸ† Best KNN metric: euclidean (F1=15.4%)

ğŸŒ² Training Random Forest... âœ“ F1=  0.0% | Recall=  0.0%
ğŸŒ³ Training Extra Trees... âœ“ F1=  0.0% | Recall=  0.0%

ğŸ”— Creating intelligent ensemble... âœ“ Best: BestKNN+BestTree @ threshold=0.42

ğŸ“Š FINAL RESULTS:
   ğŸ† ENSEMBLE    â†’ F1:  18.2% | Recall:  12.5% | Precision:  33.3% | Bal_Acc:  55.7%
   ğŸ¯ Best KNN    â†’ F1:  15.4% (euclidean)
   ğŸŒ² Best Tree   â†’ F1:   0.0% (ET)
   âœ… Ensemble improvement: +2.8%

ğŸ“‹ Confusion Matrix:
   [[TN=179, FP=  2]
    [FN=  7, TP=  1]]

====================================================================================================
ğŸ“Š FINAL RESULTS - OPTIMIZED KNN+RF ENSEMBLE
====================================================================================================

ğŸ“‹ MAIN DISORDERS (sorted by F1-Score):
--------------------------------------------------------------------------------------------------------------
Disorder                                    Samples       F1   Recall     Prec  Bal_Acc Strategy       
--------------------------------------------------------------------------------------------------------------
Mood disorder                                   266    45.6%    98.1%    29.7%    53.8% F1-Weighted    
Addictive disorder                              186    39.2%    83.8%    25.6%    62.3% Average        
Trauma and stress related disorder              128    36.4%    30.8%    44.4%    62.3% Top3           
Obsessive compulsive disorder                    46    28.6%    33.3%    25.0%    64.2% BestKNN+BestTree
Schizophrenia                                   117    24.0%    65.2%    14.7%    56.4% F1-Weighted    

ğŸ“‹ SPECIFIC DISORDERS (sorted by F1-Score):
--------------------------------------------------------------------------------------------------------------
Disorder                                    Samples       F1   Recall     Prec  Bal_Acc Strategy       
--------------------------------------------------------------------------------------------------------------
Depressive disorder                             199    41.0%    80.0%    27.6%    61.8% Average        
Behavioral addiction disorder                    93    30.8%    42.1%    24.2%    63.7% F1-Weighted    
Alcohol use disorder                             93    28.6%    31.6%    26.1%    60.8% BestKNN+BestTree
Obsessive compulsitve disorder                   46    28.6%    33.3%    25.0%    64.2% BestKNN+BestTree
Schizophrenia                                   117    24.0%    65.2%    14.7%    56.4% F1-Weighted    
Bipolar disorder                                 67    21.6%    30.8%    16.7%    59.7% BestKNN+BestTree
Adjustment disorder                              38    18.2%    12.5%    33.3%    55.7% BestKNN+BestTree
Posttraumatic stress disorder                    52    10.8%    20.0%     7.4%    53.0% F1-Weighted    
Social anxiety disorder                          48     9.5%    20.0%     6.2%    51.6% Average        
Acute stress disorder                            38     8.2%    37.5%     4.6%    51.6% Average        

====================================================================================================
ğŸ“Š PERFORMANCE ANALYSIS
====================================================================================================

ğŸ† OPTIMIZED ENSEMBLE PERFORMANCE:
   F1-Score:       34.8%
   Recall:         62.2%
   Precision:      27.9%
   Balanced Acc:   59.8%

ğŸ† BEST PERFORMING DISORDER:
   Mood disorder
   F1: 45.6% | Recall: 98.1% | Precision: 29.7%
   Strategy: F1-Weighted
   Best KNN metric: manhattan

âœ… DISORDERS WITH HIGH RECALL (â‰¥85%):
   1/5 disorders achieving medical-grade recall
   â€¢ Mood disorder                      : 98.1% recall, 45.6% F1

ğŸ“Š PERFORMANCE TIERS:
   Excellent (F1 â‰¥ 60%):  0
   Good (50-60%):         0
   Acceptable (40-50%):   2
   Total:                 15

ğŸ¯ BEST KNN DISTANCE METRICS:
   manhattan: 2 disorders
   cosine: 2 disorders
   euclidean: 1 disorders

ğŸ”— ENSEMBLE STRATEGIES USED:
   F1-Weighted: 2 disorders
   Average: 1 disorders
   Top3: 1 disorders
   BestKNN+BestTree: 1 disorders

====================================================================================================
ğŸ“ KEY INSIGHTS
====================================================================================================

ğŸ’¡ WHY THIS APPROACH WORKS:
   âœ“ Multiple KNN distance metrics capture different patterns
   âœ“ Random Forest provides non-linear decision boundaries
   âœ“ Extra Trees adds diversity through more randomization
   âœ“ Intelligent ensemble picks best strategy per disorder
   âœ“ Threshold optimization maximizes F1-Score
   âœ“ SMOTE handles class imbalance

ğŸ¯ CLINICAL APPLICABILITY:
   âš ï¸  NEEDS IMPROVEMENT: 62.2% recall may miss patients
   âš ï¸  34.8% F1-Score indicates room for improvement

====================================================================================================
âœ… TRAINING COMPLETE!
====================================================================================================

ğŸ¯ Summary:
   â€¢ Trained 15 disorder models
   â€¢ Average F1-Score: 34.8%
   â€¢ Average Recall: 62.2%
   â€¢ Tested 5 KNN distance metrics per disorder
   â€¢ Used 2 tree ensemble methods (RF + ET)
   â€¢ Applied 5 ensemble strategies

ğŸ’ª Models ready for clinical validation and deployment!
 